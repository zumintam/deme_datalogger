
#init Cmake 
cmake_minimum_required(VERSION 3.10)
project(modbus_example) 


set(CMAKE_CXX_STANDARD 11)

# CÃ¡ch thÃ´ng minh: TÃ¬m dist_libs dá»±a trÃªn vá»‹ trÃ­ cá»§a CMakeLists.txt nÃ y
# LÃ¹i 2 cáº¥p tá»« services/example Ä‘á»ƒ vÃ o project_demo, sau Ä‘Ã³ vÃ o components/dist_libs
get_filename_component(PROJECT_ROOT "${CMAKE_CURRENT_SOURCE_DIR}/../../" ABSOLUTE)
set(LIBS_DIR "${PROJECT_ROOT}/components/dist_libs") # ÄÆ°á»ng dáº«n Ä‘áº¿n dist_libs

message(STATUS "ğŸ“‚ Using DIST_LIBS path: ${LIBS_DIR}")

# Include headers
include_directories("${LIBS_DIR}/include")
include_directories("${LIBS_DIR}/include/modbus")

add_executable(modbus_app modbus.cpp)

# Link thÆ° viá»‡n tÄ©nh
target_link_libraries(modbus_app
    "${LIBS_DIR}/lib/libmeter_driver.a"
    "${LIBS_DIR}/lib/libmodbus.a"
    "${LIBS_DIR}/lib/libzmq.a"
    "${LIBS_DIR}/lib/libcjson.a"    
    pthread
    rt
)